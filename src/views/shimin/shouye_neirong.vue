<template>
	<div class="sy_neirong">
		<div class="shimin_lunbo">
			<div class="lunbo_zuo">
				<div class="lunbotu">
					<div class="swiper-container">
					    <div class="swiper-wrapper">
					      <div class="swiper-slide">
							  <img src="../../assets/image/timg.jpg" alt="">
							  <div class="dibu_lunbo">
								  <div>全省司法鉴定业务</div>
								  <div></div>
							  </div>
						  </div>
					      <div class="swiper-slide">
							  <img src="../../assets/image/huic.jpg" alt="">
							  <div class="dibu_lunbo">
								    <div>全省司法鉴定业务</div>
								    <div></div>
							  </div>
						  </div>
					      <div class="swiper-slide">
							  <img src="../../assets/image/nvc.jpg" alt="">
							  <div class="dibu_lunbo">
								    <div>全省司法鉴定业务</div>
								    <div></div>
							  </div>
						  </div>
					    </div>
						<div class="swiper-pagination"></div>
					</div>
				</div>
				<div class="shouye_fagui">
					<div class="toubu_ding"></div>
					<div class="shouye_faguitop">
						<div class="shouye_active">法律法规</div>
						<div>司法解释</div>
						<div>国际条约惯例</div>
					</div>
					<div class="shouyefg_content">
						<div>
							<div class="xinwen_biaoti">
								<div>签证被拒出境泡汤费用共同承担余额退还</div>
								<div class="xinwen_youzi">
									<img src="../../assets/image/timg.jpg" alt="">
									<div class="chansanyin">
										辽宁省就看到附近的烦恼卡的房间看到疯狂的疯狂的农夫看见的风景看对方肯定是倒海翻江卡地方看见的风景卡的凤凰健康的话费卡的繁华
									</div>
								</div>
							</div>
							<div class="xinwen_biaoti">
								<div>签证被拒出境泡汤费用共同承担余额退还</div>
								<div class="xinwen_youzi">
									<img src="../../assets/image/timg.jpg" alt="">
									<div class="chansanyin">
										辽宁省就看到附近的烦恼卡的房间看到疯狂的疯狂的农夫看见的风景看对方肯定是倒海翻江卡地方看见的风景卡的凤凰健康的话费卡的繁华
									</div>
								</div>
							</div>
						</div>
						<div class="xinwen_youti">
							<div>
								<span>[婚姻家庭] <i></i> </span>婚姻权益受损别忍保存证据维权有道
							</div>
							<div>
								<span>[其他] <i></i> </span>婚姻权益受损别忍保存证据维权有道
							</div>
							<div>
								<span>[婚姻家庭] <i></i> </span>婚姻权益受损别忍保存证据维权有道
							</div>
							<div>
								<span>[婚姻家庭] <i></i> </span>婚姻权益受损别忍保存证据维权有道
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="lunbo_you">
				<div class="tongzhi_gonggao">
					<div class="tongzhi_tab">
						<div class="shouye_active">通知公告</div>
						<div>公示信息</div>
						<div>新闻资讯</div>
					</div>
					<div class="gongao_wenzi">
						<div>
							<div class="sifa_wenziyc">
								<div>司法行政十大原创金曲献祖国评选12313212312</div>
								<div>看了电视剧开始的疯狂的疯狂拉的疯狂拉的风景卡的房间啦看对方拉到附近的法拉第法拉第分</div>
							</div>
							<div>
								<ul class="li_wenzi">
									<li><div></div>今年是电饭锅开始奋斗故事的风格</li>
									<li><div></div>活动是法国进口黑色风格就睡觉了</li>
									<li><div></div>离开；司法的公平是法国设计风格和设计咖啡馆</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="lunbo_youfw">
					<div class="toubu_ding"></div>
					<div class="shouye_active">法律服务</div>
					<div class="biaoqianshan">
						<div>
							<div >
								<span class="iconfont icon-zi_xun"></span>
							</div>
							<div>在线咨询</div>
						</div>
						<div>
							<div>
								<span class="iconfont icon-yu_yue"></span>
							</div>
							<div>在线预约</div>
						</div>
						<div>
							<div>
								<span class="iconfont icon-kaoshi"></span>
							</div>
							<div>司法考试</div>
						</div>
						<div>
							<div>
								<span class="iconfont icon-yijianfankui"></span>
							</div>
							<div>群众批评意见</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="zhong_tu">
			<img src="../../assets/image/huic.jpg" alt="">
		</div>
		<div class="peixun_shi">
			
			<div class="peixunsp_left">
				<div class="toubu_ding"></div>
				<div class="pxsp_neir">
					<div class="tab_sppx">司法培训</div>
					<div class="sp_neirong">
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
						<div><div class="zhushi_ht">合同协议篇</div></div>
					</div>
				</div>
			</div>
			<div class="guojia_you">
				<div></div>
				<div></div>
				<div></div>
			</div>
		</div>
		<div class="dibu_ditu">
			<div class="toubu_ding"></div>
			<div class="peixunsp_left">
				<div class="toubu_ding"></div>
				<div class="pxsp_neir">
					<div class="tab_sppx">司法地图</div>
					<div class="sida_ditu">
						<div class="amap-page-container">
						      <el-amap
						        vid="amapDemo"  
						        :center="center"
						        :zoom="zoom"
						        class="amap-demo"
						        :events="events"
								:amap-manager="amapManager"
								>
						        <el-amap-marker v-for="marker in markers" :position="marker.position" :content="marker.content" :events="marker.events"></el-amap-marker>
						      </el-amap>
						</div>
					</div>
				</div>
			</div>
			<div class="chusuotongji_you">
				<div class="lvshi_listjs">
					<div>律师事务所</div>
					<div><span>26</span>家</div>
				</div>
				<div class="lvshi_listjs">
					<div>法律援助中心</div>
					<div><span>26</span>家</div>
				</div>
				<div class="lvshi_listjs">
					<div>调委组织</div>
					<div><span>26</span>家</div>
				</div>
				<div class="lvshi_listjs">
					<div>司法检定机构</div>
					<div><span>26</span>家</div>
				</div>
				<div class="lvshi_listjs">
					<div>公正处</div>
					<div><span>26</span>家</div>
				</div>
				<div class="lvshi_listjs">
					<div>基层法律服务所</div>
					<div><span>26</span>家</div>
				</div>
			</div>
		</div>
	</div>
</template>

<script>
	import header from './headers.vue';
	import bottom from './bottom.vue';
	import Swiper from "swiper"
	import 'swiper/dist/css/swiper.min.css';
	import { swiper, swiperSlide } from 'vue-awesome-swiper'
	import { AMapManager } from 'vue-amap';
	export default {
		components: {
			'headers':header,
			'bottom':bottom,
			swiper,
			swiperSlide 
		},
		data() {
			let self = this;
			const data = [{
			        id: 1,
			        label: '一级 1',
			        children: [{
			          id: 4,
			          label: '二级 1-1',
			          children: [{
			            id: 9,
			            label: '三级 1-1-1'
			          }, {
			            id: 10,
			            label: '三级 1-1-2'
			          }]
			        }]
			      }, {
			        id: 2,
			        label: '一级 2',
			        children: [{
			          id: 5,
			          label: '二级 2-1'
			        }, {
			          id: 6,
			          label: '二级 2-2'
			        }]
			      }, {
			        id: 3,
			        label: '一级 3',
			        children: [{
			          id: 7,
			          label: '二级 3-1'
			        }, {
			          id: 8,
			          label: '二级 3-2'
			        }]
			      }];
		    return {
		        AMapManager,
		          zoom: 12,
		          center: [121.59996, 31.197646],
		          markers: [],
		          markerRefs: [],
		          events: {
		            init(o) {
		              setTimeout(() => {
		                console.log(self.markerRefs);
		                let cluster = new AMap.MarkerClusterer(o, self.markerRefs,{
		                  gridSize: 80,
		                  renderCluserMarker: self._renderCluserMarker
		                });
		                console.log(cluster);
		              }, 1000);
		            },
		        	'moveend': () => {
		        		console.log(111)
		        	},
		        	'zoomchange': () => {
		        	},
		        	'click': (e) => {
		        		
		        	}
		          },
				  xuanzhong:'/'
		    };
		},
		mounted() {
			var swiper = new Swiper('.swiper-container',{
				autoplay:3000,
				pagination:".swiper-pagination",/*分页器*/
			});
			
		},
		created() {
		  let self = this;
		  let markers = [];
		  let index = 0;
			
		  let basePosition = [121.59996, 31.197646];
			
		  while (++index <= 30) {
		    markers.push({
		      position: [basePosition[0] + 0.01 * index, basePosition[1]],
		      content: '<div style="text-align:center; background-color: hsla(180, 100%, 50%, 0.7); height: 24px; width: 24px; border: 1px solid hsl(180, 100%, 40%); border-radius: 12px; box-shadow: hsl(180, 100%, 50%) 0px 0px 1px;"></div>',
		      events: {
		        init(o) {
		          self.markerRefs.push(o);
		        }
		      }
		    });
		  }
			
		  this.markers = markers;
		},
			
		methods: {
		  _renderCluserMarker(context) {
		    const count = this.markers.length;
			
		    let factor = Math.pow(context.count/count, 1/18)
		    let div = document.createElement('div');
		    let Hue = 180 - factor* 180;
		    let bgColor = 'hsla('+Hue+',100%,50%,0.7)';
		    let fontColor = 'hsla('+Hue+',100%,20%,1)';
		    let borderColor = 'hsla('+Hue+',100%,40%,1)';
		    let shadowColor = 'hsla('+Hue+',100%,50%,1)';
		    div.style.backgroundColor = bgColor
		    let size = Math.round(30 + Math.pow(context.count/count,1/5) * 20);
		    div.style.width = div.style.height = size+'px';
		    div.style.border = 'solid 1px '+ borderColor;
		    div.style.borderRadius = size/2 + 'px';
		    div.style.boxShadow = '0 0 1px '+ shadowColor;
		    div.innerHTML = context.count;
		    div.style.lineHeight = size+'px';
		    div.style.color = fontColor;
		    div.style.fontSize = '14px';
		    div.style.textAlign = 'center';
		    context.marker.setOffset(new AMap.Pixel(-size/2,-size/2));
		    context.marker.setContent(div)
		  },
		  nav(data){
			  this.xuanzhong = data
		  }
		}
	}; 
</script>

<style lang="scss">
	.xuanzhong{
		width: 100%;
	}
	.shimin_lunbo{
		width: 100%;
		display: flex;
		align-items: flex-start;
		/* // justify-content: center; */
	}
	.lunbo_zuo{
		width: 62%;
		margin-right: 10px;
	}
	.lunbo_you{
		width: 33%;
	}
	.lunbotu{
		width: 100%;
		height: 22vw;
	}
	.swiper-container,.swiper-slide{
		width: 100%;
		height: 100%;
		position: relative;
	}
	.swiper-container img{
		width: 100%;
		height: 100%;
	}
	.dibu_lunbo{
		width: 96%;
		position: absolute;
		bottom: 0;
		height: 40px;
		padding: 0 2%;
		display: flex;
		align-items: center;
		justify-content: space-between;
		background: rgba(0,0,0,0.5);
		color: #fff;
	}
	.lunbotu .swiper-container .swiper-pagination{
		width: 50%;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: flex-end;
		position: absolute;
		right: 20px !important;
		bottom: 0;
		z-index: 200;
	}
	.swiper-pagination-bullet{
		background: #fff !important;
	}
	.swiper-pagination-bullet-active{
		background: #0FA3D5 !important;
	}
	.shouye_fagui{
		width: 96%;
		padding: 10px 2%;
		background: #fff;
		margin-top: 15px;
		position: relative;
	}
	.shouye_faguitop{
		display: flex;
		align-items: center;
		div{
			padding: 10px 15px;
			border: 1px solid #fff;
			background: #f7f7f7;
			color: #333;
		}
		.shouye_active{
			background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
			color: #fff;
		}
	}
	.shouyefg_content{
		width: 100%;
		display: flex;
		align-items: flex-start;
		justify-content: space-between;
		
		.xinwen_biaoti{
			width: 100%;
			margin-top: 15px;
			div:nth-child(1){
				font-size: 16px;
				color: #333;
				font-weight: 600;
				text-align: left;
				margin-bottom: 10px;
			}
			.xinwen_youzi{
				font-size: 13px;
				color: #666;
				font-weight: 600;
				text-align: left;
				display: flex;
				align-items: flex-start;
				img{
					width: 100px;
					height: 65px;
					margin-right: 15px;
				}
			}
		}
	}
	.chansanyin{
		overflow: hidden;
		text-overflow: ellipsis;
		display: -webkit-box;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		line-height: 22px;
	}
	.shouyefg_content>div{
		width: 49%;
	}
	.xinwen_youti{
		font-size: 14px;
		margin-top: 10px;
		span{
			color: #0FA3D5;
			display: inline-block;
			height: 100%;
			width: 65px;
			text-align: justify;
			vertical-align: top;
			margin-right:5px;
			&::after {
				display: inline-block;
				width: 100%;
				content: '';
				height: 0;
			}
		}
		
	}
	.xinwen_youti>div{
		margin-top: 5px;
	}
	.tongzhi_gonggao{
		width: 100%;
		background: #fff;
	}
	.tongzhi_tab{
		display: flex;
		align-items: center;
		justify-content: space-between;
		div{
			width: 33%;
			border: 1px solid #fff;
			background: #f7f7f7;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.shouye_active{
			background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
			color: #fff;
		}
	}
	.tongzhi_tab div:hover{
		background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
		color: #fff;
	}
	.gongao_wenzi{
		width: 100%;
	}
	.sifa_wenziyc{
		width: 96%;
		padding: 10px 2%;
		border-bottom: 1px dashed #eee;
		text-align: left;
		div:nth-child(1){
			color: #333;
			font-size: 18px;
			font-weight: 600;
			text-overflow: ellipsis;
			overflow: hidden;
			white-space: nowrap;
		}
		div:nth-child(2){
			overflow: hidden;
			text-overflow: ellipsis;
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			line-height: 20px;
			margin-top: 15px;
			font-size: 14px;
		}
	}
	.li_wenzi{
		width: 96%;
		padding: 10px 2%;
		font-size: 15px;
		text-align: left;
		line-height: 25px;
		list-style-type:disc;
		height: 13.85vw;
		overflow: auto;
		
		li{
			display: flex;
			align-items: center;
			width: 100%;
			text-overflow: ellipsis;
			overflow: hidden;
			white-space: nowrap;
		}
		div{
			width: 5px;
			height: 5px;
			border-radius: 50%;
			background: #333;
			margin-right: 10px;
		}
	}
	.li_wenzi::-webkit-scrollbar{
		display:none;
	}
	.lunbo_youfw{
		width: 96%;
		padding: 10px 2%;
		position: relative;
		background: #fff;
		margin-top: 15px;
		.shouye_active{
			background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
			color: #fff;
			width: 100px;
			height: 35px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}
	.biaoqianshan{
		width: 100%;
		display: flex;
		align-items: center;
		justify-content: space-between;
		flex-wrap: wrap;
		
	}
	.biaoqianshan>div{
		width: 30%;
		text-align: center;
		border: 1px solid #eee;
		margin-top: 15px;
		padding: 10px 0;
	}
	.biaoqianshan>div:hover{
		background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
		color: #fff !important;
	}
	.biaoqianshan>div:hover .iconfont{
		background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
		color: #fff !important;
	}
	.toubu_ding{
		width: 100%;
		height: 1px ;
		background:-webkit-linear-gradient(left,#0fa3d5, #1b79c2);
		position: absolute;
		top: 0;
		left: 0;
		
	}
	.iconfont{
		display: inline-block;
		font-size: 25px !important;
		margin-bottom: 10px;
		color: #0086B3;
	}
	.zhong_tu{
		width: 96%;
		height: 80px;
		margin-top: 15px;
		img{
			width: 100%;
			height: 100%;
		}
	}
	.peixun_shi{
		width: 100%;
		display: flex;
		align-items: flex-start;
		margin-top: 15px;
	}
	.peixunsp_left{
		width: 62%;
		background: #fff;
		position: relative;
		margin-right: 10px;
	}
	.pxsp_neir{
		width: 96%;
		padding: 10px 2%;
		
	}
	.tab_sppx{
		width: 100px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		background: -webkit-linear-gradient(left,#0fa3d5, #1b79c2);
		color: #fff;
	}
	.sp_neirong{
		display: flex;
		align-items: center;
		justify-content: space-between;
		flex-wrap: wrap;
		div{
			width: 23%;
			height: 100px;
			margin-top: 20px;
			background: #0077AA;
			position: relative;
			img{
				width: 100%;
				height: 100%;
			}
		}
		.zhushi_ht{
			width: 96%;
			background: rgba(0,0,0,0.3);
			padding: 5px 2%;
			color: #fff;
			height: 18px;
			position: absolute;
			bottom: 0;
			text-align: left;
		}
	}
	.guojia_you{
		width: 33%;
		background: #fff;
		height: 15.6vw;
		display: flex;
		flex-wrap: wrap;
		align-content: space-between;
		div{
			width: 100%;
			height: 80px;
			background: #0077AA;
			img{
				width: 100%;
				height: 100%;
			}
		}
	}
	.dibu_ditu{
		position: relative;
		background: #fff;
		display: flex;
		align-items: flex-start;
		width: 100%;
		margin-top: 15px;
	}
	.sida_ditu{
		width: 100%;
		height: 295px;
		margin-top: 15px;
		.amap-page-container{
			width: 100%;
			height: 100%;
		}
	}
	.chusuotongji_you{
		width: 33%;
		border: 1px solid #eee;
		border-bottom: 0;
		margin-top: 65px;
		.lvshi_listjs{
			width: 92%;
			padding: 13px 4%;
			display: flex;
			align-items: center;
			justify-content: space-between;
			border-bottom: 1px solid #eee;
			span{
				color: #F56227;
				font-size: 22px;
				font-weight: 600;
				display: inline-block;
				margin: 0 20px;
			}
		}
	}
</style>
